@startuml
hide circle
skinparam Linetype ortho
title Инклинометрическая_система_с_расширенной_геометрией

entity Месторождение {
id_месторождения <<PK>> int
Название_месторождения varchar(100)
--
Регион varchar(100)
Статус varchar(50)
}

entity Скважина {
id_скважины <<PK>> int
id_месторождения <<FK>> int
--
Номер_скважины varchar(10)
Дата_бурения date
Глубина decimal(10,2)
Статус_скважины varchar(20)
тип_скважины varchar(30)
}

entity Метод_коррекции_траектории {
id <<PK>> int
--
Название_метода varchar(100)
Математическая_модель varchar(50)
Алгоритм_расчета text
Погрешность decimal(5,3)
Область_применения varchar(200)
}

entity Координаты_устья {
id_скважины <<PK>> <<FK>> int
--
Широта decimal(10,6)
Долгота decimal(10,6)
Абсолютная_отметка decimal(8,2)
Тип_азимута varchar(20)
Система_координат varchar(30)
}

entity Инклинометрия {
ID_измерения <<PK>> int
id_скважины <<FK>> int
Код_оборудования <<FK>> varchar(20)
метод_коррекции_id <<FK>> int
--
Тип_инклинометрии varchar(30)
Дата_измерения date
Глубина_измерения decimal(8,2)
Зенитный_угол decimal(5,2)
Азимут decimal(6,2)
Качество_данных varchar(10)
Название_компании_подрядчика varchar(100)
}

entity Оборудование_инк {
Код_оборудования <<PK>> varchar(20)
--
Название_модели varchar(100)
Производитель varchar(50)
Точность_измерения decimal(4,3)
Дата_калибровки date
}

entity Геологический_разрез {
ID_слоя <<PK>> int
id_скважины <<FK>> int
--
Глубина_верх decimal(8,2)
Глубина_низ decimal(8,2)
Название_породы varchar(50)
Литоология varchar(30)
}

entity Геометрия_скважины {
id_геометрии <<PK>> int
id_скважины <<FK>> int
код_системы_согласования <<FK>> varchar(10)
--
тип_геометрии varchar(20)
система_координат varchar(30)
метод_расчета varchar(100)
статус_согласования varchar(20)
дата_согласования date
верифицировано boolean
дата_верификации date
примечания text
}

entity Точка_траектории {
id_точки <<PK>> int
id_геометрии <<FK>> int
код_типа_точки <<FK>> varchar(10)
id_измерения <<FK>> int
--
измеренная_глубина decimal(8,2)
вертикальная_глубина decimal(8,2)
северное_отклонение decimal(8,2)
восточное_отклонение decimal(8,2)
зенитный_угол decimal(5,2)
азимут decimal(6,2)
качество_данных varchar(10)
}

entity Тип_точки_траектории {
код_типа <<PK>> varchar(10)
--
название varchar(50)
описание varchar(200)
}

entity Система_согласования {
код_системы <<PK>> varchar(10)
--
название_системы varchar(50)
описание varchar(200)
}

' Связи внутри инклинометрической системы
Месторождение ||--|{ Скважина
Скважина ||..|| Координаты_устья
Скважина ||..|{ Инклинометрия
Оборудование_инк ||..|{ Инклинометрия
Скважина ||..|{ Геологический_разрез
Метод_коррекции_траектории ||..|{ Инклинометрия
Скважина ||--o{ Геометрия_скважины
Геометрия_скважины ||--o{ Точка_траектории
Тип_точки_траектории ||..|{ Точка_траектории
Система_согласования ||..|{ Геометрия_скважины
Инклинометрия }|--|| Точка_траектории

@enduml
