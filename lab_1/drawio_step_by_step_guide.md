
# ПОДРОБНОЕ РУКОВОДСТВО: Создание ER-диаграммы в Draw.io

## Шаг за шагом: от анализа предметной области до готовой диаграммы

### ПОДГОТОВКА К РАБОТЕ

#### 1. Доступ к Draw.io
- Откройте браузер (рекомендуется Chrome, Firefox, Safari)
- Перейдите на [https://app.diagrams.net](https://app.diagrams.net)
- НЕ требует регистрации или установки программы

#### 2. Выбор хранилища
При первом запуске выберите, где сохранять файлы:
- **Device** — на компьютере (файлы .drawio)
- **Google Drive** — в облачном хранилище Google
- **OneDrive** — в Microsoft OneDrive
- **Dropbox** — в Dropbox
- **GitHub** — в репозитории GitHub

*Рекомендация: для учебных целей выбирайте "Device"*

#### 3. Создание нового документа
1. Нажмите "Create New Diagram"
2. В окне выбора шаблонов найдите раздел "Software"
3. Выберите "Entity Relation" или введите в поиск "ER"
4. Выберите шаблон "Crow's Foot Notation" 
5. Нажмите "Create"

### ИНТЕРФЕЙС Draw.io

#### Основные элементы:
- **Левая панель** — библиотека фигур и элементов
- **Центральная область** — холст для рисования
- **Правая панель** — свойства выделенного объекта
- **Верхняя панель** — меню и инструменты

#### Горячие клавиши:
- **Ctrl+Z** — отменить действие
- **Ctrl+Y** — повторить действие
- **Ctrl+S** — сохранить
- **Delete** — удалить выделенный объект
- **Ctrl+A** — выделить все
- **Ctrl+C/V** — копировать/вставить

### СОЗДАНИЕ ER-ДИАГРАММЫ: ПОШАГОВАЯ ИНСТРУКЦИЯ

#### ШАГ 1: Размещение сущностей

1. **Найдите раздел "Entity Relation" на левой панели**
   - Если не видите, нажмите "More Shapes" и отметьте "Entity Relation"

2. **Перетащите элемент "Entity" на холст**
   - Элемент выглядит как прямоугольник с разделителями

3. **Настройте сущность "Читатель":**
   - Дважды кликните на заголовок — введите "Читатель"
   - Кликните в область атрибутов
   - Введите список атрибутов (каждый с новой строки):
     ```
     reader_id (PK)
     last_name
     first_name
     middle_name
     reader_type
     phone
     email
     registration_date
     ```

4. **Форматирование ключевых атрибутов:**
   - Выделите текст "reader_id (PK)"
   - На панели форматирования нажмите кнопку **B** (жирный)
   - Или используйте подчеркивание кнопкой **U**

5. **Повторите для всех остальных сущностей:**
   - Книга, Автор, Категория, Выдача, Штраф, Авторство
   - Расположите их равномерно по холсту

#### ШАГ 2: Настройка внешнего вида сущностей

1. **Выделите сущность**
2. **На правой панели настройте:**
   - **Style** → выберите цвет заливки
   - **Line** → цвет и толщина границы
   - **Text** → размер и цвет шрифта

3. **Рекомендуемые цвета:**
   - Основные сущности: светло-голубой (#E1F5FE)
   - Связующие сущности: светло-зеленый (#E8F5E8)
   - Граница: темно-синий (#1976D2)

#### ШАГ 3: Создание связей

1. **Для связи 1:N (один ко многим):**
   - На левой панели найдите "1 to many"
   - Или используйте обычную линию "Connector"

2. **Подключение связи:**
   - Кликните на первую сущность
   - Перетащите линию ко второй сущности
   - Линия автоматически "прилипнет" к границам

3. **Настройка кардинальности:**
   - Выделите линию связи
   - На правой панели в разделе "Style" найдите:
     - **Start Arrow** — начало связи
     - **End Arrow** — конец связи

4. **Символы кардинальности в Crow's Foot:**
   - **Один (1):** вертикальная черта `|`
   - **Много (N):** "воронья лапка" или "трезубец"
   - **Ноль или один (0..1):** кружок + черта `o|`
   - **Ноль или много (0..N):** кружок + лапка `o<`

#### ШАГ 4: Подписывание связей

1. **Добавление названий связей:**
   - Дважды кликните на линии связи
   - Введите название связи ("берет", "выдается", "содержит")

2. **Позиционирование подписей:**
   - Выделите линию
   - Перетащите текст в нужное место
   - В свойствах измените "Label Position"

#### ШАГ 5: Создание связи многие-ко-многим

Связь M:N реализуется через промежуточную сущность:

1. **Создайте сущность "Авторство"**
2. **Добавьте атрибуты:**
   ```
   book_id (PK, FK)
   author_id (PK, FK)
   ```
3. **Создайте две связи 1:N:**
   - Автор → Авторство (1:N)
   - Книга → Авторство (1:N)

#### ШАГ 6: Финальное оформление

1. **Автоматическое выравнивание:**
   - Выделите все объекты (Ctrl+A)
   - Меню "Arrange" → "Layout" → "Horizontal/Vertical Flow"

2. **Ручное выравнивание:**
   - Выделите несколько объектов
   - Меню "Arrange" → "Align" → выберите тип выравнивания

3. **Добавление заголовка:**
   - На левой панели найдите "Text"
   - Перетащите на холст
   - Введите: "ER-диаграмма системы управления библиотекой"
   - Увеличьте размер шрифта (16-18pt)
   - Сделайте жирным

4. **Добавление легенды:**
   - Создайте небольшую таблицу с обозначениями:
     ```
     PK — Primary Key (Первичный ключ)
     FK — Foreign Key (Внешний ключ)
     ```

### СОХРАНЕНИЕ И ЭКСПОРТ

#### Сохранение проекта:
1. **Файл Draw.io (.drawio):**
   - File → Save As → выберите место сохранения
   - Введите имя: "library_erd.drawio"
   - Этот файл можно открыть для редактирования

#### Экспорт для отчета:
1. **PNG (для документа):**
   - File → Export as → PNG
   - Настройки:
     - **Zoom:** 200-300% (для высокого качества)
     - **Border Width:** 10 пикселей
     - **Transparent Background:** отключить
   - Сохранить как "library_erd.png"

2. **PDF (для печати):**
   - File → Export as → PDF
   - Настройки:
     - **Fit to:** 1 page
     - **Page Format:** A4
   - Сохранить как "library_erd.pdf"

3. **SVG (векторный формат):**
   - File → Export as → SVG
   - Подходит для масштабирования без потери качества

### СОВЕТЫ И РЕКОМЕНДАЦИИ

#### Лучшие практики оформления:
1. **Читаемость:**
   - Используйте контрастные цвета
   - Размер шрифта не менее 10pt
   - Избегайте пересечения линий

2. **Структура:**
   - Располагайте связанные сущности рядом
   - Основные сущности — в центре
   - Справочные — по краям

3. **Именование:**
   - Сущности — существительные в единственном числе
   - Атрибуты — значащие имена
   - Связи — глаголы ("содержит", "принадлежит")

#### Частые ошибки:
1. **Неправильная кардинальность:**
   - Внимательно анализируйте бизнес-правила
   - Проверяйте логику связей

2. **Избыточные связи:**
   - Не создавайте прямые связи, если есть транзитивные

3. **Неатомарные атрибуты:**
   - ФИО лучше разделить на фамилию, имя, отчество
   - Адрес — на город, улицу, дом

#### Проверка качества диаграммы:
- [ ] Все сущности имеют первичные ключи
- [ ] Внешние ключи правильно обозначены
- [ ] Кардинальность связей корректна
- [ ] Нет избыточных связей
- [ ] Диаграмма читаема и понятна
- [ ] Есть заголовок и легенда

### АЛЬТЕРНАТИВНЫЕ ИНСТРУМЕНТЫ

Если Draw.io недоступен, можно использовать:

1. **Lucidchart** — [lucidchart.com](https://lucidchart.com)
   - Профессиональный инструмент
   - Требует регистрации
   - Есть бесплатная версия

2. **Creately** — [creately.com](https://creately.com)
   - Простой интерфейс
   - Хорошие шаблоны ER-диаграмм

3. **Miro** — [miro.com](https://miro.com)
   - Инструмент для коллаборации
   - Подходит для мозгового штурма

4. **Microsoft Visio** — настольное приложение
   - Профессиональный стандарт
   - Платное ПО

### КОНТРОЛЬНЫЙ СПИСОК ДЛЯ СТУДЕНТОВ

Перед сдачей работы проверьте:

#### Техническая корректность:
- [ ] Диаграмма открывается и корректно отображается
- [ ] Все тексты читаемы
- [ ] Нет орфографических ошибок
- [ ] Соблюдена выбранная нотация

#### Содержательная корректность:
- [ ] Все бизнес-правила отражены
- [ ] Первичные ключи определены правильно
- [ ] Связи M:N реализованы через промежуточные сущности
- [ ] Нет нарушений нормализации

#### Оформление:
- [ ] Есть заголовок диаграммы
- [ ] Есть легенда с обозначениями
- [ ] Цветовая схема последовательна
- [ ] Расположение элементов логично

---

## ЗАКЛЮЧЕНИЕ

Draw.io — мощный и бесплатный инструмент для создания ER-диаграмм. 
Следуя этому руководству, вы сможете создать профессиональную 
диаграмму, которая станет основой для разработки базы данных.

Помните: качественная ER-диаграмма — это 50% успеха в проектировании 
базы данных. Уделите достаточно времени на анализ предметной области 
и проверку корректности модели.
